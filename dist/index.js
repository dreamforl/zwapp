!function(e,t){e&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t))}(self.document),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).zwapp=t()}(this,(function(){"use strict";function e(o,i){if(!o)return;const r=typeof o,c=i?e=>i.appendChild(e):e=>e;if("string"===r||"number"===r)return c(document.createTextNode(o));if("object"===r&&"string"==typeof o.type){const n=document.createElement(o.type),s=o.props?o.props:{};s.className&&!s.class&&(s.class=s.className,delete s.className);for(let e in s)t(n,e,s[e]);for(let t of o.children)t instanceof Array?t.forEach((t=>e(t,n))):e(t,n);return c(n)}if("function"==typeof o.type)o.type.isClass?n(o,i):s(o,i);else if("function"===r){const e={props:{},children:[],type:o};o.isClass?n(e,i):s(e,i)}else if(o.type===Symbol.for("document-fragement")){let t=document.createDocumentFragment();return o.children.forEach((n=>{e(n,t)})),c(t)}}function t(e,t,n){"function"==typeof n?(t.startsWith("on")&&e.addEventListener(t.replace("on","").toLowerCase(),n),"ref"===t&&n(e)):"style"===t&&n instanceof Object?Object.assign(e.style,n):"object"!=typeof n&&e.setAttribute(t,n)}function n(t,n){let s=new t.type(t.props);s.willComponentMount(),s.children={type:Symbol.for("document-fragement"),children:t.children},s._rendering=!0;let o=e(s.render(),n);return s.dom=o,s._rendering=!1,s.didComponentMounted(),o}function s(t,n){e(t.type(t.props),n)}return{version:"0.0.14",render:e,Component:class{constructor(e){this.props=e||{},this.state={},this.ref={},this._renderList=[],this._rendering=!1}static get isClass(){return!0}setState(t,n){if("object"!=typeof t)console.warn("要设置的state必须是对象");else if(this._rendering)this._renderList.push({state:t,cb:n});else{this._rendering=!0;let s=this._renderList;setTimeout((()=>{this._renderList=[],s.push({state:t,cb:n}),s.forEach((e=>{Object.assign(this.state,e.state)}));let o=e(this.render());this.dom.replaceWith(o),this.dom=o,this.componentUpdated(),this._rendering=!1,s.forEach((e=>{e.cb instanceof Function&&e.cb()}))}))}}willComponentMount(){}didComponentMounted(){}componentUpdated(){}}}}));
